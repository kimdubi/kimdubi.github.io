<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>MongoDB simple command | kimDuBiA</title><meta name=keywords content="mongodb"><meta name=description content="Mongo DB 접속  dori:bin mac$ mongo MongoDB shell version v4.0.9 connecting to: mongodb://127.0.0.1:27017/?gssapiServiceName=mongodb Implicit session: session { &#34;id&#34; : UUID(&#34;97c63b7c-e54a-447f-9507-c775b4986954&#34;) } MongoDB server version: 4.0.9 Server has startup warnings: 2019-05-11T16:07:53.047+0900 I CONTROL [initandlisten] 2019-05-11T16:07:53.047+0900 I CONTROL [initandlisten] ** WARNING: Access control is not enabled for the database. 2019-05-11T16:07:53.048+0900 I CONTROL [initandlisten] ** Read and write access to data and configuration is unrestricted. 2019-05-11T16:07:53.049+0900 I CONTROL [initandlisten] --- Enable MongoDB's free cloud-based monitoring service, which will then receive and display metrics about your deployment (disk utilization, CPU, operation statistics, etc)."><meta name=author content="kimdubi"><link rel=canonical href=/mongodb/mongo_simple_command/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.min.2dbef8664bbfb3e83a0a44fd4a8fc5010240dbcd1dbc1400753b928b497b8f5e.css integrity="sha256-Lb74Zku/s+g6CkT9So/FAQJA280dvBQAdTuSi0l7j14=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.min.27cd435cc9ed6abb4b496581b151804f79f366c412620272bb94e2f5f598ebcc.js integrity="sha256-J81DXMntartLSWWBsVGAT3nzZsQSYgJyu5Ti9fWY68w=" onload=hljs.initHighlightingOnLoad();></script><link rel=icon href=%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.80.0"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme: rgb(29, 30, 32);--entry: rgb(46, 46, 51);--primary: rgb(218, 218, 219);--secondary: rgb(155, 156, 157);--tertiary: rgb(65, 66, 68);--content: rgb(196, 196, 197);--hljs-bg: rgb(46, 46, 51);--code-bg: rgb(55, 56, 62);--border: rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-123-45','auto');ga('send','pageview');}</script><meta property="og:title" content="MongoDB simple command"><meta property="og:description" content="Mongo DB 접속  dori:bin mac$ mongo MongoDB shell version v4.0.9 connecting to: mongodb://127.0.0.1:27017/?gssapiServiceName=mongodb Implicit session: session { &#34;id&#34; : UUID(&#34;97c63b7c-e54a-447f-9507-c775b4986954&#34;) } MongoDB server version: 4.0.9 Server has startup warnings: 2019-05-11T16:07:53.047+0900 I CONTROL [initandlisten] 2019-05-11T16:07:53.047+0900 I CONTROL [initandlisten] ** WARNING: Access control is not enabled for the database. 2019-05-11T16:07:53.048+0900 I CONTROL [initandlisten] ** Read and write access to data and configuration is unrestricted. 2019-05-11T16:07:53.049+0900 I CONTROL [initandlisten] --- Enable MongoDB's free cloud-based monitoring service, which will then receive and display metrics about your deployment (disk utilization, CPU, operation statistics, etc)."><meta property="og:type" content="article"><meta property="og:url" content="/mongodb/mongo_simple_command/"><meta property="og:image" content="%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="mongodb"><meta property="article:published_time" content="2021-10-05T08:27:18+09:00"><meta property="article:modified_time" content="2021-10-05T08:27:18+09:00"><meta property="og:site_name" content="kimDuBiA"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="MongoDB simple command"><meta name=twitter:description content="Mongo DB 접속  dori:bin mac$ mongo MongoDB shell version v4.0.9 connecting to: mongodb://127.0.0.1:27017/?gssapiServiceName=mongodb Implicit session: session { &#34;id&#34; : UUID(&#34;97c63b7c-e54a-447f-9507-c775b4986954&#34;) } MongoDB server version: 4.0.9 Server has startup warnings: 2019-05-11T16:07:53.047+0900 I CONTROL [initandlisten] 2019-05-11T16:07:53.047+0900 I CONTROL [initandlisten] ** WARNING: Access control is not enabled for the database. 2019-05-11T16:07:53.048+0900 I CONTROL [initandlisten] ** Read and write access to data and configuration is unrestricted. 2019-05-11T16:07:53.049+0900 I CONTROL [initandlisten] --- Enable MongoDB's free cloud-based monitoring service, which will then receive and display metrics about your deployment (disk utilization, CPU, operation statistics, etc)."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Mongodbs","item":"/mongodb/"},{"@type":"ListItem","position":3,"name":"MongoDB simple command","item":"/mongodb/mongo_simple_command/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"MongoDB simple command","name":"MongoDB simple command","description":"Mongo DB 접속  dori:bin mac$ mongo MongoDB shell version v4.0.9 connecting to: mongodb://127.0.0.1:27017/?gssapiServiceName=mongodb Implicit session: session { \u0026quot;id\u0026quot; : UUID(\u0026quot;97c63b7c-e54a-447f-9507-c775b4986954\u0026quot;) } MongoDB server version: 4.0.9 Server has startup warnings: 2019-05-11T16:07:53.047+0900 I CONTROL [initandlisten] 2019-05-11T16:07:53.047+0900 I CONTROL [initandlisten] ** WARNING: Access control is not enabled for the database. 2019-05-11T16:07:53.048+0900 I CONTROL [initandlisten] ** Read and write access to data and configuration is unrestricted. 2019-05-11T16:07:53.049+0900 I CONTROL [initandlisten] --- Enable MongoDB's free cloud-based monitoring service, which will then receive and display metrics about your deployment (disk utilization, CPU, operation statistics, etc).","keywords":["mongodb"],"articleBody":" Mongo DB 접속  dori:bin mac$ mongo MongoDB shell version v4.0.9 connecting to: mongodb://127.0.0.1:27017/?gssapiServiceName=mongodb Implicit session: session { \"id\" : UUID(\"97c63b7c-e54a-447f-9507-c775b4986954\") } MongoDB server version: 4.0.9 Server has startup warnings: 2019-05-11T16:07:53.047+0900 I CONTROL [initandlisten] 2019-05-11T16:07:53.047+0900 I CONTROL [initandlisten] ** WARNING: Access control is not enabled for the database. 2019-05-11T16:07:53.048+0900 I CONTROL [initandlisten] ** Read and write access to data and configuration is unrestricted. 2019-05-11T16:07:53.049+0900 I CONTROL [initandlisten] --- Enable MongoDB's free cloud-based monitoring service, which will then receive and display metrics about your deployment (disk utilization, CPU, operation statistics, etc). The monitoring data will be available on a MongoDB website with a unique URL accessible to you and anyone you share the URL with. MongoDB may use this information to make product improvements and to suggest MongoDB products and deployment options to you. To enable free monitoring, run the following command: db.enableFreeMonitoring() To permanently disable this reminder, run the following command: db.disableFreeMonitoring()  create database  show dbs; admin 0.000GB config 0.000GB local 0.000GB  use test; switched to db test  show dbs; admin 0.000GB config 0.000GB local 0.000GB   test db가 안보이는 이유는 test db 에 아무런 collection 이 없기 때문 collection 이 있는 db만 조회됨  create collection  db test  test.TestCollection.insertOne( ... {name:\"kimdubi\", age:29, interest: [\"Infra\",\"DB\",\"NoSQL\"]}) 2019-05-11T16:36:13.481+0900 E QUERY [js] ReferenceError: test is not defined : @(shell):1:1   db.TestCollection.insertOne( ... {name:\"kimdubi\", age:29, interest: [\"Infra\",\"DB\",\"NoSQL\"]}) { \"acknowledged\" : true, \"insertedId\" : ObjectId(\"5cd67b82d7c83919d5d619fa\") }  show collections TestCollection  db.createCollection(\"TestCollection_2\") { \"ok\" : 1 }  show collections; TestCollection TestCollection_2   db 커맨드는 현재 사용중인 database 확인용\ndml 커맨드는 db.컬렉션네임.커맨드 로 수행됨 데이터를 넣으며 테이블 생성하는 방법과 넣지 않고 명시적으로 테이블 create 할 수 있음  insert  한 건 씩 혹은 여러건씩 insert 가능   db.TestCollection.insertOne( {name:\"kimdubi\",age:29,interset: [\"Infra\",\"DB\",\"NoSQL\"]})  db.TestCollection.insertMany([ ... {name:\"kimdubi\",age:29,interset: [\"Infra\",\"DB\",\"NoSQL\"]}, ... {name:\"kimdubi\",age:29,interset: [\"Infra\",\"DB\",\"NoSQL\"]}, ... {name:\"kimdubi\",age:29,interset: [\"Infra\",\"DB\",\"NoSQL\"]}, ... {name:\"kimdubi\",age:29,interset: [\"Infra\",\"DB\",\"NoSQL\"]}, ... {name:\"kimdubi2\",age:39,interset: [\"Infra\",\"Cloud\",\"AWS\"]}, ... {name:\"kimdubi3\",age:49,interset: [\"Programming\",\"Frontend\",\"nodejs\"]} ... ]) { \"acknowledged\" : true, \"insertedIds\" : [ ObjectId(\"5cd68b1ed7c83919d5d61a02\"), ObjectId(\"5cd68b1ed7c83919d5d61a03\"), ObjectId(\"5cd68b1ed7c83919d5d61a04\"), ObjectId(\"5cd68b1ed7c83919d5d61a05\"), ObjectId(\"5cd68b1ed7c83919d5d61a06\"), ObjectId(\"5cd68b1ed7c83919d5d61a07\") ] }  bulk 로 많은 dml 커맨드를 한번에 수행 할 수 있음   var users= ... [ ... {name:\"kimdubi\",age:29,interset: [\"Infra\",\"DB\",\"NoSQL\"]}, ... {name:\"kimdubi\",age:29,interset: [\"Infra\",\"DB\",\"NoSQL\"]}, ... {name:\"kimdubi\",age:29,interset: [\"Infra\",\"DB\",\"NoSQL\"]}, ... {name:\"kimdubi\",age:29,interset: [\"Infra\",\"DB\",\"NoSQL\"]}, ... {name:\"kimdubi2\",age:39,interset: [\"Infra\",\"Cloud\",\"AWS\"]}, ... {name:\"kimdubi3\",age:49,interset: [\"Programming\",\"Frontend\",\"nodejs\"]} ... ];    db.TestCollection.insert(users); BulkWriteResult({ \"writeErrors\" : [ ], \"writeConcernErrors\" : [ ], \"nInserted\" : 6, \"nUpserted\" : 0, \"nMatched\" : 0, \"nModified\" : 0, \"nRemoved\" : 0, \"upserted\" : [ ] }) select  forEach(printjson) / pretty() 로 보기 좋게 출력   db.TestCollection.find() { \"_id\" : ObjectId(\"5cd67b82d7c83919d5d619fa\"), \"name\" : \"kimdubi\", \"age\" : 29, \"interest\" : [ \"Infra\", \"DB\", \"NoSQL\" ] } .....  db.TestCollection.find().forEach(printjson); { \"_id\" : ObjectId(\"5cd67b82d7c83919d5d619fa\"), \"name\" : \"kimdubi\", \"age\" : 29, \"interest\" : [ \"Infra\", \"DB\", \"NoSQL\" ] } { \"_id\" : ObjectId(\"5cd68655d7c83919d5d619fb\"), \"name\" : \"kimdubi\", \"age\" : 29, \"interset\" : [ \"Infra\", \"DB\", \"NoSQL\" ] } . .  db.TestCollection.find().pretty(); { \"_id\" : ObjectId(\"5cd67b82d7c83919d5d619fa\"), \"name\" : \"kimdubi\", \"age\" : 29, \"interest\" : [ \"Infra\", \"DB\", \"NoSQL\" ] }  db.TestCollection.find( {name: \"kimdubi3\"}).pretty() { \"_id\" : ObjectId(\"5cd6895dd7c83919d5d61a01\"), \"name\" : \"kimdubi3\", \"age\" : 49, \"interset\" : [ \"Programming\", \"Frontend\", \"nodejs\" ] }  where 조건    db.TestCollection.find( { \"age\": {$gt:32}} ).pretty() { \"_id\" : ObjectId(\"5cd6895dd7c83919d5d61a00\"), \"name\" : \"kimdubi2\", \"age\" : 39, \"interset\" : [ \"Infra\", \"Cloud\", \"AWS\" ] } { \"_id\" : ObjectId(\"5cd6895dd7c83919d5d61a01\"), \"name\" : \"kimdubi3\", \"age\" : 49, \"interset\" : [ \"Programming\", \"Frontend\", \"nodejs\" ] }  특정 필드만 조회 및 정렬   db.TestCollection.find( {} , { \"name\":1}).sort({\"age\":1}) { \"_id\" : ObjectId(\"5cd67b82d7c83919d5d619fa\"), \"name\" : \"kimdubi\" } { \"_id\" : ObjectId(\"5cd68655d7c83919d5d619fb\"), \"name\" : \"kimdubi\" } { \"_id\" : ObjectId(\"5cd6895dd7c83919d5d619fc\"), \"name\" : \"kimdubi\" } { \"_id\" : ObjectId(\"5cd6895dd7c83919d5d619fd\"), \"name\" : \"kimdubi\" } { \"_id\" : ObjectId(\"5cd6895dd7c83919d5d619fe\"), \"name\" : \"kimdubi\" } { \"_id\" : ObjectId(\"5cd6895dd7c83919d5d619ff\"), \"name\" : \"kimdubi\" } { \"_id\" : ObjectId(\"5cd6895dd7c83919d5d61a00\"), \"name\" : \"kimdubi2\" } { \"_id\" : ObjectId(\"5cd6895dd7c83919d5d61a01\"), \"name\" : \"kimdubi3\" }  db.TestCollection.find({}, {\"name\":1,\"interset\":1} ) { \"_id\" : ObjectId(\"5cd67b82d7c83919d5d619fa\"), \"name\" : \"kimdubi\" } { \"_id\" : ObjectId(\"5cd68655d7c83919d5d619fb\"), \"name\" : \"kimdubi\", \"interset\" : [ \"Infra\", \"DB\", \"NoSQL\" ] } { \"_id\" : ObjectId(\"5cd6895dd7c83919d5d619fc\"), \"name\" : \"kimdubi\", \"interset\" : [ \"Infra\", \"DB\", \"NoSQL\" ] } { \"_id\" : ObjectId(\"5cd6895dd7c83919d5d619fd\"), \"name\" : \"kimdubi\", \"interset\" : [ \"Infra\", \"DB\", \"NoSQL\" ] }  컬럼명:0 (default) = 조회안함 / 컬럼명:1 =조회  update  db.TestCollection.update( {\"name\":\"kimdubi\"}, {$set:{\"name\":\"super kimdubi\"}}, {multi:true} ) WriteResult({ \"nMatched\" : 10, \"nUpserted\" : 0, \"nModified\" : 10 })   db.TestCollection.find() { \"_id\" : ObjectId(\"5cd67b82d7c83919d5d619fa\"), \"name\" : \"super kimdubi\", \"age\" : 29, \"interest\" : [ \"Infra\", \"DB\", \"NoSQL\" ] } { \"_id\" : ObjectId(\"5cd68655d7c83919d5d619fb\"), \"name\" : \"super kimdubi\", \"age\" : 29, \"interset\" : [ \"Infra\", \"DB\", \"NoSQL\" ] } { \"_id\" : ObjectId(\"5cd6895dd7c83919d5d619fc\"), \"name\" : \"super kimdubi\", \"age\" : 29, \"interset\" : [ \"Infra\", \"DB\", \"NoSQL\" ] } { \"_id\" : ObjectId(\"5cd6895dd7c83919d5d619fd\"), \"name\" : \"super kimdubi\", \"age\" : 29, \"interset\" : [ \"Infra\", \"DB\", \"NoSQL\" ] }   기본적으로 MongoDB에서는 한건씩 업데이트를 하는데 {multi:true} 옵션을 명시하면 여러건 동시에 업데이트 가능  delete  조건에 맞는 다큐먼트 1건 지우기    db.TestCollection.remove({ \"name\": \"super kimdubi\"} ) WriteResult({ \"nRemoved\" : 10 })  여러건 지우기    db.TestCollection.remove ({ \"name\":\"kimdubi\"}, 2 ) WriteResult({ \"nRemoved\" : 0 })  전부 지우기    db.TestCollection.remove( {} ) WriteResult({ \"nRemoved\" : 4 }) ","wordCount":"836","inLanguage":"en","datePublished":"2021-10-05T08:27:18+09:00","dateModified":"2021-10-05T08:27:18+09:00","author":{"@type":"Person","name":"kimdubi"},"mainEntityOfPage":{"@type":"WebPage","@id":"/mongodb/mongo_simple_command/"},"publisher":{"@type":"Organization","name":"kimDuBiA","logo":{"@type":"ImageObject","url":"%3Clink%20/%20abs%20url%3E"}}}</script></head><body id=top><script>if(localStorage.getItem("pref-theme")==="dark"){document.body.classList.add('dark');}else if(localStorage.getItem("pref-theme")==="light"){document.body.classList.remove('dark')}else if(window.matchMedia('(prefers-color-scheme: dark)').matches){document.body.classList.add('dark');}</script><header class=header><nav class=nav><div class=logo><a href accesskey=h title="Home (Alt + H)">Home</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=/categories/ title=categories><span>categories</span></a></li><li><a href=/tags/ title=tags><span>tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href>Home</a>&nbsp;»&nbsp;<a href=/mongodb/>Mongodbs</a></div><h1 class=post-title>MongoDB simple command</h1><div class=post-meta>October 5, 2021&nbsp;·&nbsp;4 min&nbsp;·&nbsp;kimdubi</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#mongo-db-%ec%a0%91%ec%86%8d aria-label="Mongo DB 접속  ">Mongo DB 접속  </a></li><li><a href=#create-database aria-label="create database">create database</a></li><li><a href=#create-collection aria-label="create collection">create collection</a></li><li><a href=#insert aria-label=insert>insert</a></li><li><a href=#select aria-label=select>select</a></li><li><a href=#update aria-label=update>update</a></li><li><a href=#delete aria-label=delete>delete</a></li></ul></div></details></div><div class=post-content><hr><h3 id=mongo-db-접속>Mongo DB 접속  <a hidden class=anchor aria-hidden=true href=#mongo-db-접속>#</a></h3><pre><code>dori:bin mac$ mongo

MongoDB shell version v4.0.9
connecting to: mongodb://127.0.0.1:27017/?gssapiServiceName=mongodb
Implicit session: session { &quot;id&quot; : UUID(&quot;97c63b7c-e54a-447f-9507-c775b4986954&quot;) }
MongoDB server version: 4.0.9
Server has startup warnings:
2019-05-11T16:07:53.047+0900 I CONTROL  [initandlisten]
2019-05-11T16:07:53.047+0900 I CONTROL  [initandlisten] ** WARNING: Access control is not enabled for the database.
2019-05-11T16:07:53.048+0900 I CONTROL  [initandlisten] **          Read and write access to data and configuration is unrestricted.
2019-05-11T16:07:53.049+0900 I CONTROL  [initandlisten]
---
Enable MongoDB's free cloud-based monitoring service, which will then receive and display
metrics about your deployment (disk utilization, CPU, operation statistics, etc).
The monitoring data will be available on a MongoDB website with a unique URL accessible to you
and anyone you share the URL with. MongoDB may use this information to make product
improvements and to suggest MongoDB products and deployment options to you.

To enable free monitoring, run the following command: db.enableFreeMonitoring()
To permanently disable this reminder, run the following command: db.disableFreeMonitoring()
</code></pre><h3 id=create-database>create database<a hidden class=anchor aria-hidden=true href=#create-database>#</a></h3><pre><code>&gt; show dbs;
admin   0.000GB
config  0.000GB
local   0.000GB

&gt; use test;
switched to db test

&gt; show dbs;
admin   0.000GB
config  0.000GB
local   0.000GB
</code></pre><ul><li>test db가 안보이는 이유는 test db 에 아무런 collection 이 없기 때문 collection 이 있는 db만 조회됨</li></ul><h3 id=create-collection>create collection<a hidden class=anchor aria-hidden=true href=#create-collection>#</a></h3><pre><code>&gt; db
test

&gt; test.TestCollection.insertOne(
... {name:&quot;kimdubi&quot;, age:29, interest: [&quot;Infra&quot;,&quot;DB&quot;,&quot;NoSQL&quot;]})

2019-05-11T16:36:13.481+0900 E QUERY    [js] ReferenceError: test is not defined :
@(shell):1:1

&gt;
&gt; db.TestCollection.insertOne(
... {name:&quot;kimdubi&quot;, age:29, interest: [&quot;Infra&quot;,&quot;DB&quot;,&quot;NoSQL&quot;]})
{
&quot;acknowledged&quot; : true,
&quot;insertedId&quot; : ObjectId(&quot;5cd67b82d7c83919d5d619fa&quot;)
}

&gt; show collections
TestCollection

&gt; db.createCollection(&quot;TestCollection_2&quot;)
{ &quot;ok&quot; : 1 }

&gt; show collections;
TestCollection
TestCollection_2
</code></pre><ul><li>db 커맨드는 현재 사용중인 database 확인용<br>dml 커맨드는 db.컬렉션네임.커맨드 로 수행됨</li><li>데이터를 넣으며 테이블 생성하는 방법과 넣지 않고 명시적으로 테이블 create 할 수 있음</li></ul><h3 id=insert>insert<a hidden class=anchor aria-hidden=true href=#insert>#</a></h3><ul><li>한 건 씩 혹은 여러건씩 insert 가능</li></ul><pre><code>&gt; db.TestCollection.insertOne(
{name:&quot;kimdubi&quot;,age:29,interset: [&quot;Infra&quot;,&quot;DB&quot;,&quot;NoSQL&quot;]})

&gt; db.TestCollection.insertMany([
... {name:&quot;kimdubi&quot;,age:29,interset: [&quot;Infra&quot;,&quot;DB&quot;,&quot;NoSQL&quot;]},
... {name:&quot;kimdubi&quot;,age:29,interset: [&quot;Infra&quot;,&quot;DB&quot;,&quot;NoSQL&quot;]},
... {name:&quot;kimdubi&quot;,age:29,interset: [&quot;Infra&quot;,&quot;DB&quot;,&quot;NoSQL&quot;]},
... {name:&quot;kimdubi&quot;,age:29,interset: [&quot;Infra&quot;,&quot;DB&quot;,&quot;NoSQL&quot;]},
... {name:&quot;kimdubi2&quot;,age:39,interset: [&quot;Infra&quot;,&quot;Cloud&quot;,&quot;AWS&quot;]},
... {name:&quot;kimdubi3&quot;,age:49,interset: [&quot;Programming&quot;,&quot;Frontend&quot;,&quot;nodejs&quot;]}
... ])
{
&quot;acknowledged&quot; : true,
&quot;insertedIds&quot; : [
ObjectId(&quot;5cd68b1ed7c83919d5d61a02&quot;),
ObjectId(&quot;5cd68b1ed7c83919d5d61a03&quot;),
ObjectId(&quot;5cd68b1ed7c83919d5d61a04&quot;),
ObjectId(&quot;5cd68b1ed7c83919d5d61a05&quot;),
ObjectId(&quot;5cd68b1ed7c83919d5d61a06&quot;),
ObjectId(&quot;5cd68b1ed7c83919d5d61a07&quot;)
]
}
</code></pre><ul><li>bulk 로 많은 dml 커맨드를 한번에 수행 할 수 있음</li></ul><pre><code>&gt; var users=
... [
... {name:&quot;kimdubi&quot;,age:29,interset: [&quot;Infra&quot;,&quot;DB&quot;,&quot;NoSQL&quot;]},
... {name:&quot;kimdubi&quot;,age:29,interset: [&quot;Infra&quot;,&quot;DB&quot;,&quot;NoSQL&quot;]},
... {name:&quot;kimdubi&quot;,age:29,interset: [&quot;Infra&quot;,&quot;DB&quot;,&quot;NoSQL&quot;]},
... {name:&quot;kimdubi&quot;,age:29,interset: [&quot;Infra&quot;,&quot;DB&quot;,&quot;NoSQL&quot;]},
... {name:&quot;kimdubi2&quot;,age:39,interset: [&quot;Infra&quot;,&quot;Cloud&quot;,&quot;AWS&quot;]},
... {name:&quot;kimdubi3&quot;,age:49,interset: [&quot;Programming&quot;,&quot;Frontend&quot;,&quot;nodejs&quot;]}
... ];
&gt;
&gt;
&gt; db.TestCollection.insert(users);
BulkWriteResult({
&quot;writeErrors&quot; : [ ],
&quot;writeConcernErrors&quot; : [ ],
&quot;nInserted&quot; : 6,
&quot;nUpserted&quot; : 0,
&quot;nMatched&quot; : 0,
&quot;nModified&quot; : 0,
&quot;nRemoved&quot; : 0,
&quot;upserted&quot; : [ ]
})
</code></pre><h3 id=select>select<a hidden class=anchor aria-hidden=true href=#select>#</a></h3><ul><li>forEach(printjson)  / pretty() 로 보기 좋게 출력</li></ul><pre><code>&gt; db.TestCollection.find()
{ &quot;_id&quot; : ObjectId(&quot;5cd67b82d7c83919d5d619fa&quot;), &quot;name&quot; : &quot;kimdubi&quot;, &quot;age&quot; : 29, &quot;interest&quot; : [ &quot;Infra&quot;, &quot;DB&quot;, &quot;NoSQL&quot; ] } .....

     
&gt; db.TestCollection.find().forEach(printjson);
{
&quot;_id&quot; : ObjectId(&quot;5cd67b82d7c83919d5d619fa&quot;),
&quot;name&quot; : &quot;kimdubi&quot;,
&quot;age&quot; : 29,
&quot;interest&quot; : [
&quot;Infra&quot;,
&quot;DB&quot;,
&quot;NoSQL&quot;
]
}
{
&quot;_id&quot; : ObjectId(&quot;5cd68655d7c83919d5d619fb&quot;),
&quot;name&quot; : &quot;kimdubi&quot;,
&quot;age&quot; : 29,
&quot;interset&quot; : [
&quot;Infra&quot;,
&quot;DB&quot;,
&quot;NoSQL&quot;
]
}
.
.

&gt; db.TestCollection.find().pretty();
{
&quot;_id&quot; : ObjectId(&quot;5cd67b82d7c83919d5d619fa&quot;),
&quot;name&quot; : &quot;kimdubi&quot;,
&quot;age&quot; : 29,
&quot;interest&quot; : [
&quot;Infra&quot;,
&quot;DB&quot;,
&quot;NoSQL&quot;
]
}

&gt; db.TestCollection.find( {name: &quot;kimdubi3&quot;}).pretty()
{
&quot;_id&quot; : ObjectId(&quot;5cd6895dd7c83919d5d61a01&quot;),
&quot;name&quot; : &quot;kimdubi3&quot;,
&quot;age&quot; : 49,
&quot;interset&quot; : [
&quot;Programming&quot;,
&quot;Frontend&quot;,
&quot;nodejs&quot;
]
}
</code></pre><ul><li>where 조건</li></ul><pre><code>    &gt; db.TestCollection.find( { &quot;age&quot;: {$gt:32}} ).pretty()
    
    {
    &quot;_id&quot; : ObjectId(&quot;5cd6895dd7c83919d5d61a00&quot;),
    &quot;name&quot; : &quot;kimdubi2&quot;,
    &quot;age&quot; : 39,
    &quot;interset&quot; : [
    &quot;Infra&quot;,
    &quot;Cloud&quot;,
    &quot;AWS&quot;
    ]
    }
    {
    &quot;_id&quot; : ObjectId(&quot;5cd6895dd7c83919d5d61a01&quot;),
    &quot;name&quot; : &quot;kimdubi3&quot;,
    &quot;age&quot; : 49,
    &quot;interset&quot; : [
    &quot;Programming&quot;,
    &quot;Frontend&quot;,
    &quot;nodejs&quot;
    ]
    }
</code></pre><ul><li>특정 필드만 조회 및 정렬</li></ul><pre><code>&gt; db.TestCollection.find( {} , { &quot;name&quot;:1}).sort({&quot;age&quot;:1})

{ &quot;_id&quot; : ObjectId(&quot;5cd67b82d7c83919d5d619fa&quot;), &quot;name&quot; : &quot;kimdubi&quot; }
{ &quot;_id&quot; : ObjectId(&quot;5cd68655d7c83919d5d619fb&quot;), &quot;name&quot; : &quot;kimdubi&quot; }
{ &quot;_id&quot; : ObjectId(&quot;5cd6895dd7c83919d5d619fc&quot;), &quot;name&quot; : &quot;kimdubi&quot; }
{ &quot;_id&quot; : ObjectId(&quot;5cd6895dd7c83919d5d619fd&quot;), &quot;name&quot; : &quot;kimdubi&quot; }
{ &quot;_id&quot; : ObjectId(&quot;5cd6895dd7c83919d5d619fe&quot;), &quot;name&quot; : &quot;kimdubi&quot; }
{ &quot;_id&quot; : ObjectId(&quot;5cd6895dd7c83919d5d619ff&quot;), &quot;name&quot; : &quot;kimdubi&quot; }
{ &quot;_id&quot; : ObjectId(&quot;5cd6895dd7c83919d5d61a00&quot;), &quot;name&quot; : &quot;kimdubi2&quot; }
{ &quot;_id&quot; : ObjectId(&quot;5cd6895dd7c83919d5d61a01&quot;), &quot;name&quot; : &quot;kimdubi3&quot; }

&gt; db.TestCollection.find({}, {&quot;name&quot;:1,&quot;interset&quot;:1} )

{ &quot;_id&quot; : ObjectId(&quot;5cd67b82d7c83919d5d619fa&quot;), &quot;name&quot; : &quot;kimdubi&quot; }
{ &quot;_id&quot; : ObjectId(&quot;5cd68655d7c83919d5d619fb&quot;), &quot;name&quot; : &quot;kimdubi&quot;, &quot;interset&quot; : [ &quot;Infra&quot;, &quot;DB&quot;, &quot;NoSQL&quot; ] }
{ &quot;_id&quot; : ObjectId(&quot;5cd6895dd7c83919d5d619fc&quot;), &quot;name&quot; : &quot;kimdubi&quot;, &quot;interset&quot; : [ &quot;Infra&quot;, &quot;DB&quot;, &quot;NoSQL&quot; ] }
{ &quot;_id&quot; : ObjectId(&quot;5cd6895dd7c83919d5d619fd&quot;), &quot;name&quot; : &quot;kimdubi&quot;, &quot;interset&quot; : [ &quot;Infra&quot;, &quot;DB&quot;, &quot;NoSQL&quot; ] }
</code></pre><ul><li>컬럼명:0 (default) => 조회안함 / 컬럼명:1 =>조회</li></ul><h3 id=update>update<a hidden class=anchor aria-hidden=true href=#update>#</a></h3><pre><code>&gt; db.TestCollection.update( {&quot;name&quot;:&quot;kimdubi&quot;}, {$set:{&quot;name&quot;:&quot;super kimdubi&quot;}}, {multi:true} )
WriteResult({ &quot;nMatched&quot; : 10, &quot;nUpserted&quot; : 0, &quot;nModified&quot; : 10 })

     
&gt;
&gt; db.TestCollection.find()
{ &quot;_id&quot; : ObjectId(&quot;5cd67b82d7c83919d5d619fa&quot;), &quot;name&quot; : &quot;super kimdubi&quot;, &quot;age&quot; : 29, &quot;interest&quot; : [ &quot;Infra&quot;, &quot;DB&quot;, &quot;NoSQL&quot; ] }
{ &quot;_id&quot; : ObjectId(&quot;5cd68655d7c83919d5d619fb&quot;), &quot;name&quot; : &quot;super kimdubi&quot;, &quot;age&quot; : 29, &quot;interset&quot; : [ &quot;Infra&quot;, &quot;DB&quot;, &quot;NoSQL&quot; ] }
{ &quot;_id&quot; : ObjectId(&quot;5cd6895dd7c83919d5d619fc&quot;), &quot;name&quot; : &quot;super kimdubi&quot;, &quot;age&quot; : 29, &quot;interset&quot; : [ &quot;Infra&quot;, &quot;DB&quot;, &quot;NoSQL&quot; ] }
{ &quot;_id&quot; : ObjectId(&quot;5cd6895dd7c83919d5d619fd&quot;), &quot;name&quot; : &quot;super kimdubi&quot;, &quot;age&quot; : 29, &quot;interset&quot; : [ &quot;Infra&quot;, &quot;DB&quot;, &quot;NoSQL&quot; ] }
</code></pre><ul><li>기본적으로 MongoDB에서는 한건씩 업데이트를 하는데 {multi:true} 옵션을 명시하면 여러건 동시에 업데이트 가능</li></ul><h3 id=delete>delete<a hidden class=anchor aria-hidden=true href=#delete>#</a></h3><ul><li>조건에 맞는 다큐먼트 1건 지우기</li></ul><pre><code>    &gt; db.TestCollection.remove({ &quot;name&quot;: &quot;super kimdubi&quot;} )
    WriteResult({ &quot;nRemoved&quot; : 10 })
</code></pre><ul><li>여러건 지우기</li></ul><pre><code>    &gt; db.TestCollection.remove ({ &quot;name&quot;:&quot;kimdubi&quot;}, 2 )
    WriteResult({ &quot;nRemoved&quot; : 0 })
</code></pre><ul><li>전부 지우기</li></ul><pre><code>    &gt; db.TestCollection.remove( {} )
    WriteResult({ &quot;nRemoved&quot; : 4 })
</code></pre></div><footer class=post-footer><ul class=post-tags><li><a href=/tags/mongodb/>mongodb</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2021 <a href>kimDuBiA</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById('menu')
menu.scrollLeft=localStorage.getItem("menu-scroll-position");menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft);}
document.querySelectorAll('a[href^="#"]').forEach(anchor=>{anchor.addEventListener("click",function(e){e.preventDefault();var id=this.getAttribute("href").substr(1);if(!window.matchMedia('(prefers-reduced-motion: reduce)').matches){document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({behavior:"smooth"});}else{document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();}
if(id==="top"){history.replaceState(null,null," ");}else{history.pushState(null,null,`#${id}`);}});});</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){if(document.body.scrollTop>800||document.documentElement.scrollTop>800){mybutton.style.visibility="visible";mybutton.style.opacity="1";}else{mybutton.style.visibility="hidden";mybutton.style.opacity="0";}};</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{if(document.body.className.includes("dark")){document.body.classList.remove('dark');localStorage.setItem("pref-theme",'light');}else{document.body.classList.add('dark');localStorage.setItem("pref-theme",'dark');}})</script><script>document.querySelectorAll('pre > code').forEach((codeblock)=>{const container=codeblock.parentNode.parentNode;const copybutton=document.createElement('button');copybutton.classList.add('copy-code');copybutton.innerText='copy';function copyingDone(){copybutton.innerText='copied!';setTimeout(()=>{copybutton.innerText='copy';},2000);}
copybutton.addEventListener('click',(cb)=>{if('clipboard'in navigator){navigator.clipboard.writeText(codeblock.textContent);copyingDone();return;}
const range=document.createRange();range.selectNodeContents(codeblock);const selection=window.getSelection();selection.removeAllRanges();selection.addRange(range);try{document.execCommand('copy');copyingDone();}catch(e){};selection.removeRange(range);});if(container.classList.contains("highlight")){container.appendChild(copybutton);}else if(container.parentNode.firstChild==container){}else if(codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"){codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);}else{codeblock.parentNode.appendChild(copybutton);}});</script></body></html>